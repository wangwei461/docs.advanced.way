(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{730:function(t,a,s){"use strict";s.r(a);var e=s(28),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("h3",{attrs:{id:"安装jdk-配置环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装jdk-配置环境变量"}},[t._v("#")]),t._v(" 安装JDK,配置环境变量")]),t._v(" "),s("h3",{attrs:{id:"下载maven"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载maven"}},[t._v("#")]),t._v(" 下载maven")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://maven.apache.org/download.cgi",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://maven.apache.org/download.cgi"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"sdk-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sdk-安装"}},[t._v("#")]),t._v(" sdk 安装")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sdk "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" maven "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),t._v(".0\n")])])]),s("h3",{attrs:{id:"配置环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置环境变量"}},[t._v("#")]),t._v(" 配置环境变量")]),t._v(" "),s("p",[t._v("添加 M2_HOME 和 MAVEN_HOME\n添加到环境变量 - PATH")]),t._v(" "),s("h3",{attrs:{id:"验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn -version\n\n// out\nApache Maven "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),t._v(".0 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ff8f5e7444045639af65f6095c62210b5713f426"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),t._v("-04-04T03:39:06+08:00"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nMaven home: /Users/wangwei/.sdkman/candidates/maven/current\nJava version: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),t._v(".0_191, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre\nDefault locale: en_CN, platform encoding: UTF-8\nOS name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mac os x"')]),t._v(", version: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.14.3"')]),t._v(", arch: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x86_64"')]),t._v(", family: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mac"')]),t._v("\n")])])]),s("h2",{attrs:{id:"设置代理服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置代理服务器"}},[t._v("#")]),t._v(" 设置代理服务器")]),t._v(" "),s("p",[t._v("配置文件为 "),s("code",[t._v("{M2_HOME}/conf/settings.xml")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("proxies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- proxy\n     | Specification for one proxy, to be used in connecting to the network.\n     |\n    <proxy>\n      <id>optional</id>\n      <active>true</active>\n      <protocol>http</protocol>\n      <username>proxyuser</username>\n      <password>proxypass</password>\n      <host>proxy.host.net</host>\n      <port>80</port>\n      <nonProxyHosts>local.net|some.host.com</nonProxyHosts>\n    </proxy>\n    --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("proxies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"资源库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源库"}},[t._v("#")]),t._v(" 资源库")]),t._v(" "),s("h3",{attrs:{id:"本地资源库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地资源库"}},[t._v("#")]),t._v(" 本地资源库")]),t._v(" "),s("p",[t._v("Maven的本地资源库是用来存储所有项目的依赖关系(插件jar和其他文件，这些文件被Maven下载)到本地文件夹\n默认位置 "),s("code",[t._v("${user.home}/.m2/repository")]),t._v("\n设置 localRepository节点")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  <localRepository>/path/to/local/repo</localRepository>\n  --\x3e")]),t._v("\n")])])]),s("h3",{attrs:{id:"中央仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中央仓库"}},[t._v("#")]),t._v(" 中央仓库")]),t._v(" "),s("h4",{attrs:{id:"依赖搜索顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖搜索顺序"}},[t._v("#")]),t._v(" 依赖搜索顺序")]),t._v(" "),s("ul",[s("li",[t._v("步骤 1 － 在本地仓库中搜索，如果找不到，执行步骤 2，如果找到了则执行其他操作。")]),t._v(" "),s("li",[t._v("步骤 2 － 在中央仓库中搜索，如果找不到，并且有一个或多个远程仓库已经设置，则执行步骤 4，如果找到了则下载到本地仓库中以备将来引用。")]),t._v(" "),s("li",[t._v("步骤 3 － 如果远程仓库没有被设置，Maven 将简单的停滞处理并抛出错误（无法找到依赖的文件）。")]),t._v(" "),s("li",[t._v("步骤 4 － 在一个或多个远程仓库中搜索依赖的文件，如果找到则下载到本地仓库以备将来引用，否则 Maven 将停止处理并抛出错误（无法找到依赖的文件）。")])]),t._v(" "),s("h4",{attrs:{id:"设置国内仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置国内仓库"}},[t._v("#")]),t._v(" 设置国内仓库")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirror")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("alimaven"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("aliyun maven"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("http://maven.aliyun.com/nexus/content/groups/public/"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrorOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("central"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrorOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("        \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirror")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"创建jar到本地库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建jar到本地库"}},[t._v("#")]),t._v(" 创建jar到本地库")]),t._v(" "),s("p",[s("code",[t._v("mvn install:install-file \\ & -Dfile=c:\\kaptcha-{version}.jar \\ & -DgroupId=com.google.code \\ & -DartifactId=kaptcha \\ & -Dversion={version} \\ & -Dpackaging=jar")])]),t._v(" "),s("p",[t._v("本地仓库依赖")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.google.code"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("kaptcha"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.3"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"创建项目从模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目从模板"}},[t._v("#")]),t._v(" 创建项目从模板")]),t._v(" "),s("p",[t._v("maven 使用 Archetype 概念为用户提供不同类型的项目模板，它是一个非常大的列表（614个数字）。 maven 使用下面的命令来帮助用户快速开始构建一个新的 Java 项目。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn archetype:generate\n")])])]),s("h3",{attrs:{id:"java-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-project"}},[t._v("#")]),t._v(" java project")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn archetype:generate -DgroupId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("project-packaging"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" -DartifactId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("project-name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-DarchetypeArtifactId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("maven-archetype-quickstart -DinteractiveMode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false\n")])])]),s("h3",{attrs:{id:"web-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-project"}},[t._v("#")]),t._v(" web project")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn archetype:generate -DgroupId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("com.yiibai -DartifactId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("CounterWebApp -DarchetypeArtifactId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("maven-archetype-webapp -DinteractiveMode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false\n")])])]),s("h3",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),s("p",[t._v("官方目录结构推荐")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("src/main/java")]),t._v(" "),s("td",[t._v("Application/Library sources")])]),t._v(" "),s("tr",[s("td",[t._v("src/main/resources")]),t._v(" "),s("td",[t._v("Application/Library resources")])]),t._v(" "),s("tr",[s("td",[t._v("src/main/filters")]),t._v(" "),s("td",[t._v("Resource filter files")])]),t._v(" "),s("tr",[s("td",[t._v("src/main/webapp")]),t._v(" "),s("td",[t._v("Web application sources")])]),t._v(" "),s("tr",[s("td",[t._v("src/test/java")]),t._v(" "),s("td",[t._v("Test sources")])]),t._v(" "),s("tr",[s("td",[t._v("src/test/resources")]),t._v(" "),s("td",[t._v("Test resources")])]),t._v(" "),s("tr",[s("td",[t._v("src/test/filters")]),t._v(" "),s("td",[t._v("Test resource filter files")])]),t._v(" "),s("tr",[s("td",[t._v("src/it")]),t._v(" "),s("td",[t._v("Integration Tests (primarily for plugins)")])]),t._v(" "),s("tr",[s("td",[t._v("src/assembly")]),t._v(" "),s("td",[t._v("Assembly descriptors")])]),t._v(" "),s("tr",[s("td",[t._v("src/site")]),t._v(" "),s("td",[t._v("Site")])]),t._v(" "),s("tr",[s("td",[t._v("LICENSE.txt")]),t._v(" "),s("td",[t._v("Project's license")])]),t._v(" "),s("tr",[s("td",[t._v("NOTICE.txt")]),t._v(" "),s("td",[t._v("Notices and attributions required by libraries that the project depends on")])]),t._v(" "),s("tr",[s("td",[t._v("README.txt")]),t._v(" "),s("td",[t._v("Project's readme")])])])]),t._v(" "),s("h2",{attrs:{id:"pom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pom"}},[t._v("#")]),t._v(" POM")]),t._v(" "),s("p",[t._v("POM代表项目对象模型。它是 Maven 中工作的基本单位，这是一个 XML 文件。它始终保存在该项目基本目录中的 pom.xml 文件。http://maven.apache.org/pom.html")]),t._v(" "),s("p",[t._v("部分的配置可以在 POM 使用如下：")]),t._v(" "),s("ul",[s("li",[t._v("project dependencies")]),t._v(" "),s("li",[t._v("plugins")]),t._v(" "),s("li",[t._v("goals")]),t._v(" "),s("li",[t._v("build")]),t._v(" "),s("li",[t._v("profiles")]),t._v(" "),s("li",[t._v("project version")]),t._v(" "),s("li",[t._v("developers")]),t._v(" "),s("li",[t._v("mailing list")])]),t._v(" "),s("p",[t._v("主要的子节点")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("节点")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("groupId")]),t._v(" "),s("td",[t._v("这是项目组的编号，这在组织或项目中通常是独一无二的。 例如，一家银行集团com.company.bank拥有所有银行相关项目。")])]),t._v(" "),s("tr",[s("td",[t._v("artifactId")]),t._v(" "),s("td",[t._v("这是项目的ID。这通常是项目的名称。除了groupId之外，artifactId还定义了artifact在存储库中的位置。")])]),t._v(" "),s("tr",[s("td",[t._v("version")]),t._v(" "),s("td",[t._v("这是项目的版本。与groupId一起使用，artifact在存储库中用于将版本彼此分离")])])])]),t._v(" "),s("h2",{attrs:{id:"构建生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建生命周期"}},[t._v("#")]),t._v(" 构建生命周期")]),t._v(" "),s("p",[t._v("构建生命周期阶段的目标是执行顺序是一个良好定义的序列。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("阶段")]),t._v(" "),s("th",[t._v("处理")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("准备资源")]),t._v(" "),s("td",[t._v("资源复制")]),t._v(" "),s("td",[t._v("资源复制可以进行定制")])]),t._v(" "),s("tr",[s("td",[t._v("编译")]),t._v(" "),s("td",[t._v("执行编译")]),t._v(" "),s("td",[t._v("源代码编译在此阶段完成")])]),t._v(" "),s("tr",[s("td",[t._v("包装")]),t._v(" "),s("td",[t._v("打包")]),t._v(" "),s("td",[t._v("创建JAR/WAR包如在 pom.xml 中定义提及的包")])]),t._v(" "),s("tr",[s("td",[t._v("安装")]),t._v(" "),s("td",[t._v("安装")]),t._v(" "),s("td",[t._v("这一阶段在本地/远程Maven仓库安装程序包")])])])]),t._v(" "),s("p",[t._v("Maven有以下三种标准的生命周期：")]),t._v(" "),s("ul",[s("li",[t._v("clean")]),t._v(" "),s("li",[t._v("default(或 build)")]),t._v(" "),s("li",[t._v("site")])]),t._v(" "),s("h3",{attrs:{id:"clean生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clean生命周期"}},[t._v("#")]),t._v(" clean生命周期")]),t._v(" "),s("p",[t._v("当我们执行命令 "),s("code",[t._v("mvn clean")]),t._v(" 命令后，Maven 调用清洁的生命周期由以下几个阶段组成：")]),t._v(" "),s("ul",[s("li",[t._v("pre-clean")]),t._v(" "),s("li",[t._v("clean")]),t._v(" "),s("li",[t._v("post-clean")])]),t._v(" "),s("h3",{attrs:{id:"build生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#build生命周期"}},[t._v("#")]),t._v(" build生命周期")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("生命周期阶段")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("validate")]),t._v(" "),s("td",[t._v("验证项目是否正确，并且所有必要的信息可用于完成构建过程")])]),t._v(" "),s("tr",[s("td",[t._v("initialize")]),t._v(" "),s("td",[t._v("建立初始化状态，例如设置属性")])]),t._v(" "),s("tr",[s("td",[t._v("generate-sources")]),t._v(" "),s("td",[t._v("产生任何的源代码包含在编译阶段")])]),t._v(" "),s("tr",[s("td",[t._v("process-sources")]),t._v(" "),s("td",[t._v("处理源代码，例如，过滤器值")])]),t._v(" "),s("tr",[s("td",[t._v("generate-resources")]),t._v(" "),s("td",[t._v("包含在包中产生的资源")])]),t._v(" "),s("tr",[s("td",[t._v("process-resources")]),t._v(" "),s("td",[t._v("复制和处理资源到目标目录，准备打包阶段")])]),t._v(" "),s("tr",[s("td",[t._v("compile")]),t._v(" "),s("td",[t._v("编译该项目的源代码")])]),t._v(" "),s("tr",[s("td",[t._v("process-classes")]),t._v(" "),s("td",[t._v("从编译生成的文件提交处理，例如：Java类的字节码增强/优化")])]),t._v(" "),s("tr",[s("td",[t._v("generate-test-sources")]),t._v(" "),s("td",[t._v("生成任何测试的源代码包含在编译阶段")])]),t._v(" "),s("tr",[s("td",[t._v("process-test-sources")]),t._v(" "),s("td",[t._v("处理测试源代码，例如，过滤器任何值")])]),t._v(" "),s("tr",[s("td",[t._v("test-compile")]),t._v(" "),s("td",[t._v("编译测试源代码到测试目标目录")])]),t._v(" "),s("tr",[s("td",[t._v("process-test-classes")]),t._v(" "),s("td",[t._v("处理测试代码文件编译生成的文件")])]),t._v(" "),s("tr",[s("td",[t._v("test")]),t._v(" "),s("td",[t._v("运行测试使用合适的单元测试框架（JUnit）")])]),t._v(" "),s("tr",[s("td",[t._v("prepare-package")]),t._v(" "),s("td",[t._v("执行必要的任何操作的实际打包之前准备一个包")])]),t._v(" "),s("tr",[s("td",[t._v("package")]),t._v(" "),s("td",[t._v("提取编译后的代码，并在其分发格式打包，如JAR，WAR或EAR文件")])]),t._v(" "),s("tr",[s("td",[t._v("pre-integration-test")]),t._v(" "),s("td",[t._v("完成执行集成测试之前所需操作。例如，设置所需的环境")])]),t._v(" "),s("tr",[s("td",[t._v("integration-test")]),t._v(" "),s("td",[t._v("处理并在必要时部署软件包到集成测试可以运行的环境")])]),t._v(" "),s("tr",[s("td",[t._v("pre-integration-test")]),t._v(" "),s("td",[t._v("完成集成测试已全部执行后所需操作。例如，清理环境")])]),t._v(" "),s("tr",[s("td",[t._v("verify")]),t._v(" "),s("td",[t._v("运行任何检查，验证包是有效的，符合质量审核规定")])]),t._v(" "),s("tr",[s("td",[t._v("install")]),t._v(" "),s("td",[t._v("将包安装到本地存储库，它可以用作当地其他项目的依赖")])]),t._v(" "),s("tr",[s("td",[t._v("deploy")]),t._v(" "),s("td",[t._v("复制最终的包到远程仓库与其他开发者和项目共享")])])])]),t._v(" "),s("h3",{attrs:{id:"site生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#site生命周期"}},[t._v("#")]),t._v(" site生命周期")]),t._v(" "),s("p",[t._v("Maven的网站插件通常用于创建新的文档，创建报告，部署网站等。\n阶段")]),t._v(" "),s("ul",[s("li",[t._v("pre-site")]),t._v(" "),s("li",[t._v("site")]),t._v(" "),s("li",[t._v("post-site")]),t._v(" "),s("li",[t._v("site-deploy")])]),t._v(" "),s("p",[t._v("Maven会使用一个文件处理引擎： Doxia，它将会读取多个源格式并将它们转换为通用文档模型文档。以下几个是常用的格式使用来编写项目文档，这是由 Doxia 解析编写内容。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("格式名称")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("参考")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("APT")]),t._v(" "),s("td",[t._v("纯文本文档格式")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://maven.apache.org/doxia/format.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://maven.apache.org/doxia/format.html"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("XDoc")]),t._v(" "),s("td",[t._v("Maven1.x 的文档格式")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://jakarta.apache.org/site/jakarta-site2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://jakarta.apache.org/site/jakarta-site2.html"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("FML")]),t._v(" "),s("td",[t._v("用于常问问题(FQA)文件")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://maven.apache.org/doxia/references/fml-format.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://maven.apache.org/doxia/references/fml-format.html"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("XHTML")]),t._v(" "),s("td",[t._v("可扩展HTML")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://en.wikipedia.org/wiki/XHTML",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://en.wikipedia.org/wiki/XHTML"),s("OutboundLink")],1)])])])]),t._v(" "),s("h2",{attrs:{id:"插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[t._v("#")]),t._v(" 插件")]),t._v(" "),s("p",[t._v("Maven 是一个执行插件的框架，每一个任务实际上是由插件完成的。Maven 插件通常用于：")]),t._v(" "),s("ul",[s("li",[t._v("创建 jar 文件")]),t._v(" "),s("li",[t._v("创建 war 文件")]),t._v(" "),s("li",[t._v("编译代码文件")]),t._v(" "),s("li",[t._v("进行代码单元测试")]),t._v(" "),s("li",[t._v("创建项目文档")]),t._v(" "),s("li",[t._v("创建项目报告")])]),t._v(" "),s("p",[t._v("一个插件通常提供了一组目标，可使用以下语法来执行：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mvn [plugin-name]:[goal-name]\n")])])]),s("p",[t._v("Maven 提供以下两种类型插件：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("构建插件")]),t._v(" "),s("td",[t._v("在生成过程中执行，并在 pom.xml 中的"),s("build"),t._v(" 元素进行配置")],1)]),t._v(" "),s("tr",[s("td",[t._v("报告插件")]),t._v(" "),s("td",[t._v("在网站生成期间执行，在 pom.xml 中的 "),s("reporting"),t._v(" 元素进行配置")],1)])])]),t._v(" "),s("p",[t._v("以下是一些常见的插件列表：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("插件")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("clean")]),t._v(" "),s("td",[t._v("编译后的清理目标，删除目标目录")])]),t._v(" "),s("tr",[s("td",[t._v("compiler")]),t._v(" "),s("td",[t._v("编译 Java 源文件")])]),t._v(" "),s("tr",[s("td",[t._v("surefile")]),t._v(" "),s("td",[t._v("运行JUnit单元测试，创建测试报告")])]),t._v(" "),s("tr",[s("td",[t._v("jar")]),t._v(" "),s("td",[t._v("从当前项目构建 JAR 文件")])]),t._v(" "),s("tr",[s("td",[t._v("war")]),t._v(" "),s("td",[t._v("从当前项目构建 WAR 文件")])]),t._v(" "),s("tr",[s("td",[t._v("javadoc")]),t._v(" "),s("td",[t._v("产生用于该项目的 Javadoc")])]),t._v(" "),s("tr",[s("td",[t._v("antrun")]),t._v(" "),s("td",[t._v("从构建所述的任何阶段运行一组 Ant 任务")])])])]),t._v(" "),s("h2",{attrs:{id:"快照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快照"}},[t._v("#")]),t._v(" 快照")]),t._v(" "),s("p",[t._v("快照（SNAPSHOT ）是一个特殊版本，指出目前开发拷贝。不同于常规版本，Maven 每生成一个远程存储库都会检查新的快照版本")]),t._v(" "),s("blockquote",[s("p",[t._v("使用快照（SNAPSHOT）时，Maven 自动获取最新的快照版本。不过我们也可以强制使用 -U 切换到任何 maven 命令来下载最新的快照版本")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mvn clean package -U\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);